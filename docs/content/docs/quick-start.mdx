---
title: Quick Start
description: Get started with Birch in 5 minutes
---

This guide will help you perform your first secret rotation in both development and production environments.

## Prerequisites

- Birch installed ([Installation Guide](/docs/installation))
- Access to a `.env` file (for dev mode) or provider credentials (for prod mode)

## Initialize Configuration

First, create the default configuration:

```bash
birch config init
```

This creates `~/.birch/config.toml` with default settings.

## Dev Mode: Rotate a Secret in .env

Rotate a secret in your local `.env` file:

```bash
# Navigate to your project directory
cd /path/to/your/project

# Rotate a secret
birch rotate MY_API_KEY --env dev
```

This will:
1. Update `MY_API_KEY` in your `.env` file
2. Save a rollback copy to `.birch-rollback`
3. Display the new masked value

### Restart Your Application

After rotation, restart your application to use the new secret:

```bash
npm run dev  # or your start command
```

### Rollback if Needed

If something goes wrong, rollback to the previous value:

```bash
birch rollback MY_API_KEY --env dev
```

## Production Mode: Rotate on Vercel

For production, you'll need provider credentials. Let's rotate a Vercel secret:

### Set Up Credentials

```bash
export VERCEL_TOKEN="your-vercel-token"
export VERCEL_PROJECT_ID="your-project-id"
```

### Dry Run First

Always test with `--dry-run` before making real changes:

```bash
birch rotate MY_API_KEY --env prod --service vercel --dry-run
```

### Perform Rotation

When you're ready:

```bash
birch rotate MY_API_KEY --env prod --service vercel
```

You'll be prompted to confirm the change.

### Optional: Trigger Redeploy

To automatically redeploy after rotation:

```bash
birch rotate MY_API_KEY --env prod --service vercel --redeploy
```

## Set Up the Daemon (Optional)

For app-signal rotation, start the background daemon:

```bash
birch daemon start
```

Now your application can trigger rotations automatically:

```bash
curl -X POST http://127.0.0.1:9123/rotate \
  -H "Content-Type: application/json" \
  -d '{
    "secret_name": "MY_API_KEY",
    "env": "prod",
    "service": "vercel"
  }'
```

Check daemon status:

```bash
birch daemon status
```

## View Audit Logs

Check the history of rotations:

```bash
# All recent rotations
birch audit --last 10

# Specific secret
birch audit MY_API_KEY --env prod
```

## Monitor with Dashboard

Launch the interactive dashboard to monitor all Birch operations in real-time:

```bash
birch dashboard
```

The dashboard provides a comprehensive view of:
- Daemon status (running/stopped, PID)
- Recent audit logs with success/failure indicators
- Key pool health and availability
- Rotation metrics and success rates

**Tip**: Keep the dashboard running in a separate terminal while performing rotations to monitor their status in real-time.

Press `q` to quit, `r` to refresh, or use arrow keys to scroll through logs.

## Advanced: Set Up Key Pools (Optional)

For APIs with rate limits, you can set up a pool of keys for automatic rotation:

### Create a Key Pool

```bash
# Create a pool with multiple keys
birch pool init TIKTOK_API_KEY --keys "sk_key1,sk_key2,sk_key3"
```

Or from a file:

```bash
# Create keys.txt with one key per line:
# sk_abc123xyz
# sk_def456uvw
# sk_ghi789rst

birch pool init TIKTOK_API_KEY --from-file ./keys.txt
```

### Check Pool Status

```bash
birch pool status TIKTOK_API_KEY
# Pool: TIKTOK_API_KEY
# Status: Ready
# Total keys:      3
# Available:       3 (100%)
```

### Rotate with Pool

Now when you rotate, Birch will automatically use the next available key:

```bash
birch rotate TIKTOK_API_KEY --env prod --service vercel
# Using key pool for 'TIKTOK_API_KEY' (2 available, 1 exhausted)
# Marked current key as exhausted
# Rotating secret...
```

### Automatic Rotation on Rate Limits

Your app can trigger rotation when hitting rate limits:

```javascript
if (response.status === 429) {
  // Signal birch to rotate to next key in pool
  await fetch('http://localhost:9123/rotate', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      secret_name: 'TIKTOK_API_KEY',
      env: 'prod',
      service: 'vercel'
    })
  });
}
```

### Manage Your Pool

```bash
# View all keys and their status
birch pool list TIKTOK_API_KEY

# Add a new key
birch pool add TIKTOK_API_KEY --key "sk_new_key"

# Remove exhausted keys
birch pool remove TIKTOK_API_KEY --index 0
```

## Using the SDK

For Node.js applications, you can use the [Birch SDK](/docs/sdk) for automatic rotation without manual daemon calls:

```typescript
import '@inaplight/birch-client/auto';

// Your existing API calls automatically handle rotation
const response = await fetch('https://api.tiktok.com/v1/videos', {
  headers: { Authorization: `Bearer ${process.env.TIKTOK_API_KEY}` }
});
```

See the [SDK documentation](/docs/sdk) for complete setup instructions.

## Next Steps

Now that you've completed your first rotation:

- [Learn about configuration options](/docs/configuration)
- [Set up the SDK](/docs/sdk) for automatic rotation in your applications
- [Set up multiple providers](/docs/connectors)
- [Read the operator runbook](/docs/operators/runbook)
- [Implement app-signal rotation](/docs/usage/app-signals)

